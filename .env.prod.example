# Celery Redis Service - Production Environment Configuration
# Copy to .env and fill with real values for production

# Environment Settings
ENVIRONMENT=production
DEBUG=false

# Redis Configuration - Single URL for all Redis needs
# Set this in your deployment platform (Coolify, Docker, etc.)
# The application will automatically derive Celery broker (db=0) and result backend (db=1) from this URL
REDIS_URL=${REDIS_URL}  # Example: redis://default:password@your-redis-host:6379/0

# API Configuration
API_HOST=0.0.0.0
API_PORT=8001
API_WORKERS=8
API_KEY=${API_KEY}

# Auto-Movie App Integration
AUTO_MOVIE_APP_URL=https://auto-movie.ft.tc
AUTO_MOVIE_API_URL=https://auto-movie.ft.tc/api

# PayloadCMS Integration
PAYLOAD_API_URL=https://auto-movie.ft.tc/api
PAYLOAD_API_KEY=${PAYLOAD_API_KEY}

# Webhook configuration
WEBHOOK_BASE_URL=https://auto-movie.ft.tc/api/webhooks

# Cloudflare R2 Storage
R2_ENDPOINT=${R2_ENDPOINT}
R2_ACCESS_KEY=${R2_ACCESS_KEY}
R2_SECRET_KEY=${R2_SECRET_KEY}
R2_BUCKET_NAME=${R2_BUCKET_NAME}
R2_PUBLIC_URL=${R2_PUBLIC_URL}

# GPU Configuration
CUDA_VISIBLE_DEVICES=${CUDA_VISIBLE_DEVICES}
MAX_GPU_MEMORY_PER_TASK=${MAX_GPU_MEMORY_PER_TASK}

# Task Configuration
MAX_RETRY_ATTEMPTS=3
TASK_TIMEOUT=3600  # 1 hour
QUEUE_MAX_SIZE=1000

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
LOG_LEVEL=INFO

# Brain Service Integration
BRAIN_SERVICE_BASE_URL=https://brain.ft.tc
BRAIN_SERVICE_WS_URL=wss://brain.ft.tc/mcp
